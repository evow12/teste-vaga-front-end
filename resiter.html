<!DOCTYPE html>
<html lang="pt-br">
<head>
	<title>Teste Vaga Front End</title>
	<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
	<link type="text/css" rel="stylesheet" href="css/estilo.css" />
</head>
<body>
	<header>
		<nav class="navbar">
			<div class="content">
	            <div class="navbar-left">
		            <a href="register.html">
		                <img class="logo" src="img/logo.png" alt="logo">
		            </a>
	            </div>
	            <div class="navbar-right">
		            <a href="javascript:void(0)">W12</a>
	        	</div>
	        </div>
	    </nav>
	</header>

	<div class="content">
		<h2>Cadastro</h2>
		<div class="mensagem"></div>
		<form name="form_register" method="post">
			<div class="space">
				<label for="name">NOME:</label><br>
				<input type="text" name="name" id="name" value="" placeholder="Digite seu nome" class="form-input" />
			</div>
			<div class="space">
				<label for="mail">E-MAIL:</label><br>
				<input type="text" name="email" id="email" value="" placeholder="EX: carlos@uol.com.br" class="form-input" />
			</div>
			<div class="space">
				<label for="name">SENHA:</label><br>
				<input type="password" name="password" id="password" value="" placeholder="Sua senha precisa ter pelo menos 8 caracteres" class="form-input" />
			</div>
			<div class="col-12 centralize">
				<button type="button" id="btnRegister" class="btn-green">SALVAR</button>
			</div>
		</form>
	</div>

<script type="text/javascript" src="js/jquery.min.js"></script>

<script type="text/javascript">

	$("#btnRegister").click(function() {
		let nome = $("#name").val();
		let email = $("#email").val();
		let senha = $("#password").val();

		if(nome == ""){
			$(".mensagem").fadeIn();
			$(".mensagem").append("<div class='alert alert-danger' role='alert'>Nome é obrigatório</div>");
			$("#name").focus();
			setTimeout(function(){ 
				$(".mensagem").fadeOut();//esconde
				$(".mensagem").html("");//limpa
			}, 3000);
		}
		else if(email != "" || email == ""){
			validacaoEmail(email,senha);
		}
	});

	function validacaoEmail(email,senha) {
		var emailFilter=/^.+@.+\..{2,}$/;
		var illegalChars= /[\(\)\<\>\,\;\:\\\/\"\[\]]/
		// condição
		if(!(emailFilter.test(email))||email.match(illegalChars)){
			$(".mensagem").fadeIn();
			$(".mensagem").append("<div class='alert alert-danger' role='alert'>E-mail inválido</div>");
			$("#email").focus();
			setTimeout(function(){ 
				$(".mensagem").fadeOut();//esconde
				$(".mensagem").html("");//limpa
			}, 3000);
		}
		else{
			validaSenha(senha);
		}
	}

	function validaSenha(senha){
			if(senha == "" || senha.length < 8){
				$(".mensagem").fadeIn();
				$(".mensagem").append("<div class='alert alert-danger' role='alert'>Senha Incorreta</div>");
				$("#password").focus();
				setTimeout(function(){ 
					$(".mensagem").fadeOut();//esconde
					$(".mensagem").html("");//limpa
				}, 3000);
			}
			else{
				$(".mensagem").fadeIn();
				$(".mensagem").append("<div class='alert alert-success' role='alert'>Salvando Cadastro...</div>");
				setTimeout(function(){ 
					form_register.submit();
				}, 3000);
			}
		}
</script>
</body>
</html>
